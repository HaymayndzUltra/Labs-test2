---
description: Next.js development best practices and component patterns
globs: frontend/**/*.tsx,frontend/**/*.ts,**/*.tsx,**/*.ts
alwaysApply: false
---

# Rule: Next.js Server vs Client Components

## Core Principle

Prefer React Server Components for data fetching and rendering where possible; restrict `use client` to isolated UI interactions requiring browser APIs.

## Protocol

1. **[STRICT]** Default to Server Components for pages and layout-level rendering.
2. **[STRICT]** Use `use client` for components that access DOM APIs, attach event listeners, or require browser-state.
3. **[GUIDELINE]** Keep client components small and focused; prefer composition.

### âœ… Correct Implementation
```
// server component
export default function Page() {
const data = fetchData()
return <ClientWidget />
}

// ClientWidget in a separate file with 'use client'
```
